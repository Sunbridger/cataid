# 环境变量配置建议

## 当前配置（混合方式）

```bash
# .env.local
GEMINI_API_KEY=xxx                    # 通过 vite.config.ts define 暴露
VITE_SUPABASE_URL=xxx                 # 自动暴露
VITE_SUPABASE_ANON_KEY=xxx            # 自动暴露
```

## 推荐配置（统一方式）

### 方案 1: 全部使用 VITE_ 前缀（推荐）

```bash
# .env.local
VITE_GEMINI_API_KEY=xxx
VITE_SUPABASE_URL=xxx
VITE_SUPABASE_ANON_KEY=xxx
```

**优点**:
- ✅ 统一风格
- ✅ 无需配置 vite.config.ts
- ✅ TypeScript 类型提示更好

**需要修改**:
1. 重命名环境变量: `GEMINI_API_KEY` → `VITE_GEMINI_API_KEY`
2. 更新代码: `process.env.GEMINI_API_KEY` → `import.meta.env.VITE_GEMINI_API_KEY`
3. 删除 vite.config.ts 中的 define 配置

### 方案 2: 保持现状（也可以）

保持当前配置不变，因为：
- ✅ 功能正常
- ✅ 无需修改代码
- ⚠️ 但风格不统一

## 类型定义

如果采用方案 1，更新 `vite-env.d.ts`:

```typescript
interface ImportMetaEnv {
  readonly VITE_GEMINI_API_KEY: string;      // 新增
  readonly VITE_SUPABASE_URL: string;
  readonly VITE_SUPABASE_ANON_KEY: string;
}
```

## 总结

对于 **VITE_SUPABASE_URL** 和 **VITE_SUPABASE_ANON_KEY**:
- ✅ 不需要在 vite.config.ts 中定义
- ✅ 已经自动暴露
- ✅ 配置正确

对于 **GEMINI_API_KEY**:
- ℹ️ 当前通过 define 手动暴露
- 💡 建议改为 VITE_GEMINI_API_KEY 统一风格（可选）
